(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fa09d70"],{"325c":function(e,t,n){"use strict";n("ad2c")},ad2c:function(e,t,n){},bbcf:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"readdoc-box",style:{overflow:e.loadingShow?"hidden":""}},[n("div",{staticStyle:{width:"100%",height:"68px"}}),n("div",{staticStyle:{margin:"0px auto"},style:{width:e.iframeWidth}},[n("iframe",{ref:"pdf",style:{minHeight:e.screenHeight+"px",width:e.iframeWidth},attrs:{id:"aliyunPreview",src:"/third-party/pdfjs/web/viewer.html?file="+e.url+"&page="+e.pdfPage,frameborder:"0"}})]),n("div",{staticClass:"menu-box",style:{right:e.menuRight}},[n("div",{staticClass:"previous-page",on:{click:e.prePage}},[n("i",{staticClass:"el-icon-arrow-up"})]),n("div",{staticClass:"next-page",on:{click:e.nextPage}},[n("i",{staticClass:"el-icon-arrow-down"})])]),n("div",{staticStyle:{width:"100%",height:"55px"}}),e.loadingShow?n("div",{staticClass:"preloader-area"},[e._m(0)]):e._e()])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("div",{staticClass:"largeBox"}),n("div",{staticClass:"smallBox"})])}],a=(n("1084"),n("159a"),n("ac67"),n("246f"),n("4890"),n("1bc7"),n("32ea"),n("80ee")),i=(n("fc02"),n("c762"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=null,l={data:function(){return{url:"",screenHeight:0,iframeWidth:"100%",pdfPage:1,iframeInterval:null,pageHeight:0,pdfRows:0,paramPage:1,loadingShow:!1,recordParam:{}}},computed:{menuRight:function(){if("100%"==this.iframeWidth)return"0px";var e=(window.innerWidth-this.iframeWidth.split("px")[0])/2-63+"px";return e}},mounted:function(){this.loadingShow=!0,this.$route.query.data&&(this.recordParam=JSON.parse(decodeURIComponent(this.$route.query.data)),this.pdfPage=this.recordParam.learningTimeLength),this.countdown(),this.screenHeight=document.documentElement.clientHeight-36,window.addEventListener("scroll",this.windowScroll)},destroyed:function(){clearInterval(u)},methods:{prePage:function(){console.log(this.paramPage),1!=this.paramPage?this.turnPage(this.paramPage-1,"pre"):clearInterval(this.scrollToptimer)},nextPage:function(){this.paramPage!=this.pdfRows?this.turnPage(this.paramPage+1,"next"):clearInterval(this.scrollToptimer)},windowScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.paramPage=0==e?1:Math.ceil((e+60)/this.pageHeight)+1},iframeOnload:function(e){var t=this;if(console.log(e),e){var n=e.contentWindow;this.iframeInterval&&clearInterval(this.iframeInterval),this.iframeInterval=setInterval((function(){if(null==n.PDFViewerApplication.pdfDocument)console.info("Loading...");else{clearInterval(t.iframeInterval);var e=n.document.getElementById("viewer").offsetHeight,o=0,r=n.document.getElementsByClassName("page");r.length>0?(o=r[0].offsetWidth,t.pageHeight=r[0].offsetHeight):t.iframeOnload(),t.pdfRows=n.document.getElementsByClassName("page").length,t.iframeWidth=o+"px",t.screenHeight=e+33-32,setTimeout((function(){t.turnPage(t.pdfPage,"jump"),t.loadingShow=!1}),500),console.info("Load Success...")}}),100)}else{var o=this.$refs.pdf;this.iframeOnload(o)}},turnPage:function(e,t){var n=this;console.log("--------------"),clearInterval(this.scrollToptimer),this.scrollToptimer=setInterval((function(){if("pre"==t){var o=document.body.scrollTop||document.documentElement.scrollTop,r=n.pageHeight,a=r/4;0!=document.body.scrollTop?document.body.scrollTop-=a:document.documentElement.scrollTop-=a;var i=o-((e-1)*n.pageHeight-60);i<a&&(0!=document.body.scrollTop?document.body.scrollTop-=i:document.documentElement.scrollTop-=i,clearInterval(n.scrollToptimer))}else if("next"==t){o=document.body.scrollTop||document.documentElement.scrollTop,r=n.pageHeight,a=r/4;0!=document.body.scrollTop?document.body.scrollTop+=a:document.documentElement.scrollTop+=a;i=(e-1)*n.pageHeight-60-(o+n.pageHeight);i<a&&(setTimeout((function(){0!=document.body.scrollTop?document.body.scrollTop+=i+n.pageHeight/3:document.documentElement.scrollTop+=i+n.pageHeight/3}),50),clearInterval(n.scrollToptimer))}else window.scrollTo(0,(e-1)*n.pageHeight-60),clearInterval(n.scrollToptimer)}),50)},countdown:function(){var e=this,t=this;Object(i["x"])({scheduleUuid:this.recordParam.classScheduleUuid}).then((function(n){if("true"==n.success){console.log(t.$route.query.courseUuid),clearInterval(u),u=setInterval((function(){t.recordProgress()}),1e4),t.url=n.data.classScedule.alidocUrl;var o=e.$refs.pdf,r=e;window.onresize=function(){o.attachEvent?o.attachEvent("onload",(function(){r.iframeOnload(o)})):o.onload=function(){r.iframeOnload(o)}},o.attachEvent?o.attachEvent("onload",(function(){r.iframeOnload(o)})):o.onload=function(){r.iframeOnload(o)}}}))},recordProgress:function(){var e=this,t=this.paramPage,n=s({},this.recordParam);n.learningTimeLength=t,Object(i["a"])(n).then((function(t){"true"!=t.success&&e.$Message.error("服务器异常，请稍后在进行学习")}))},backToTop:function(){var e=this;this.scrollToptimer=setInterval((function(){console.log("定时循环回到顶部");var t=document.body.scrollTop||document.documentElement.scrollTop,n=t/4;0!=document.body.scrollTop?document.body.scrollTop-=n:document.documentElement.scrollTop-=n,0==t&&clearInterval(e.scrollToptimer)}),30)}}},d=l,m=(n("325c"),n("cba8")),p=Object(m["a"])(d,o,r,!1,null,"7428901e",null);t["default"]=p.exports},c762:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"u",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"y",(function(){return g})),n.d(t,"t",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"x",(function(){return O})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return T})),n.d(t,"p",(function(){return C})),n.d(t,"g",(function(){return P})),n.d(t,"d",(function(){return S})),n.d(t,"w",(function(){return E})),n.d(t,"e",(function(){return I}));var o=n("b6bd");function r(e){return Object(o["a"])({url:"/meilanopenapi/frontCourse/getCourseDetailFront",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/meilanopenapi/frontCourse/getCourseDetailForViewCourse",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/meilanopenapi/courseDiscuss/getCourseDiscussList",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/meilanopenapi/frontCourse/getCourseRecommendFront",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/meilanopenapi/company/getCompanyDetailFront",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/meilanopenapi/seriescourse/getSeriesCourseByCourse",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/meilanopenapi/seriescourse/getSeriesSubCourseCatalogBySeriesCourse",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/meilanopenapi/courseLearnRecommend/getCourseLearnRecommendList",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/meilanfrontapi/courseDiscuss/saveCourseDiscuss",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/meilanfrontapi/frontCourse/getCourseRecommendFront",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/meilanblock/courseOrder/generateCourseOrder",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/meilanblock/courseOrder/payCourseOrder",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/meilanfrontapi/courseLearning/startLearn",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/meilanfrontapi/classLearning/saveClassLearningTime",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/meilanfrontapi/frontCourse/getPeriodDetailForViewCourse",method:"post",data:e})}function O(e){return Object(o["a"])({url:"/meilanfrontapi/classSchedule/scheduleDetail",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/meilanfrontapi/classLearning/startLearn",method:"post",data:e})}function w(e){return Object(o["a"])({url:"/meilanfrontapi/aliyunVOD/getAliyunVodStsNoToken",method:"post",data:e})}function j(e){return Object(o["a"])({url:"/meilanfrontapi/courseLearningStatistics/saveCourseLearningTime",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/meilanopenapi/seriescourse/getSeriescourseDetail",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/meilanopenapi/seriescourselearnrecommend/getSeriesCourseLearnRecommendList",method:"post",data:e})}function P(e){return Object(o["a"])({url:"/meilanopenapi/company/getCompanyDetailFrontByUuid",method:"post",data:e})}function S(e){return Object(o["a"])({url:"/meilanopenapi/hskyctbook/getBookDetail",method:"post",data:e})}function E(e){return Object(o["a"])({url:"/meilanfrontapi/hskyctbookorder/saveOrder",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/meilanopenapi/hskyctbook/getBookList",method:"post",data:e})}}}]);