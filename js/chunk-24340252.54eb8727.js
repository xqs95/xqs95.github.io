(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24340252"],{"1e9c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"learning-courses"},[n("div",{staticStyle:{width:"100%",height:"60px"}}),n("div",{staticClass:"bread-crumbs"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/personalCenter/myClass"}}},[e._v("班级课程")]),n("el-breadcrumb-item",[e._v(e._s(e.recordParam.videoname))])],1)],1),n("div",{staticClass:"play-box"},[n("div",{staticClass:"course-name"},[e._v(e._s(e.recordParam.videoname))]),n("div",{staticClass:"playe-box-main"},[n("div",{staticClass:"video-box",style:{width:e.isZomm?"1200px":"860px"}},[n("div",{staticClass:"video",style:{height:e.isZomm?"675px":"483px"}},[n("div",{attrs:{id:"mse"}})])]),!e.isZomm&&e.videoList.length<=1?n("div",{staticClass:"recommend-box"},[n("div",{staticClass:"recommend-title"},[n("span",[e._v("推荐("+e._s(e.recommendedVideo.length)+")")])]),n("div",{staticClass:"video-list"},e._l(e.recommendedVideo,(function(t,r){return n("div",{staticClass:"child-box",on:{click:function(n){return e.switchRecommendedVideo(t)}}},[n("div",{staticClass:"cover-box",style:"background-image: url("+t.courseCover+")"}),n("div",{staticClass:"introduction-box",style:{color:t.uuid==e.nowPlayingUuid?"#f64646":" #b4b4b4"}},[n("div",[e._v(e._s(t.courseName))]),n("div",[e._v(e._s(t.viewNum))])])])})),0)]):e._e()])]),e.loadingShow?n("div",{staticClass:"preloader-area"},[n("div",{staticClass:"loader"},[n("div",{staticClass:"largeBox",style:e.loadingStyle}),n("div",{staticClass:"smallBox"})])]):e._e(),n("div",{staticStyle:{height:"calc(100vh - 1120px)","background-color":"#222222"}})])},a=[],i=(n("e186"),n("799e")),o=n("c762"),s=n("8588"),u=n.n(s),c={data:function(){return{loadingShow:!1,learingDuration:0,recordParam:{classUuid:"",classScheduleUuid:"",learningTimeLength:0,videoname:""},isPlaylearning:!1,isZomm:!0,playLearingFuc:null}},computed:{loadingStyle:function(){var e={background:"#F64646"};switch(this.activeIndex){case 0:e.background="#F64646";break;case 1:e.background="#00A388";break;case 2:e.background="#FDBD10";break;case 3:e.background="#FB623A";break;case 4:e.background="#03C0CA";break;case 5:e.background="#3797F6";break;case 6:e.background="#32C56A";break;default:e.background="#F64646";break}return e}},mounted:function(){this.loadingShow=!0,this.$route.query.data&&(this.recordParam=JSON.parse(decodeURIComponent(this.$route.query.data)),this.getVideoPlayUrl(this.recordParam.videoId))},destroyed:function(){this.putLearningObj(),clearInterval(this.playLearingFuc)},methods:{getVideoPlayUrl:function(e){var t=this;Object(o["c"])({videoId:e}).then((function(e){"true"==e.success&&(console.log(e),e.data&&t.initXgPlayer(e.data.fileUrl,e.data.coverUrl),setTimeout((function(){t.loadingShow=!1}),500))}))},initXgPlayer:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:"#",r=i.length>2&&void 0!==i[2]?i[2]:0,console.log(t),console.log(n),this.player=new u.a({id:"mse",fluid:!0,playbackRate:[.5,.75,1,1.5,2],defaultPlaybackRate:1,url:t,poster:n,lang:"zh-cn",lastPlayTime:r,lastPlayTimeHideDelay:5,pip:!0,miniplayer:!1,miniplayerConfig:{bottom:234,right:63,width:320,height:180}}),this.player.once("ready",(function(){a.saveClassLearningTime()})),this.player.on("play",(function(){a.isPlaylearning=!0,a.putLearningObj()})),this.player.on("timeupdate",(function(){a.learingDuration=a.player.currentTime})),this.player.on("seeking",(function(){a.learingDuration=a.player.currentTime,a.putLearningObj()})),this.player.on("ended",(function(){a.putLearningObj()}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),putLearningObj:function(){var e=this;this.$store.state.loginInfo&&this.$store.state.loginInfo.uuid&&(this.recordParam.learningTimeLength=1e3*parseInt(this.learingDuration),this.recordParam.videoTime>=this.learingDuration&&Object(o["y"])(this.recordParam).then((function(t){"true"!=t.success&&e.$message({message:"服务器异常，请稍后在进行学习",type:"error"})})))},saveClassLearningTime:function(){var e=this;this.playLearingFuc=setInterval((function(){var t={classUuid:e.recordParam.classUuid,scheduleUuid:e.recordParam.classScheduleUuid};e.putLearningObj(),Object(o["t"])(t).then((function(e){}))}),6e4)}}},d=c,l=(n("2d6b"),n("cba8")),m=Object(l["a"])(d,r,a,!1,null,"af4e066c",null);t["default"]=m.exports},"2d6b":function(e,t,n){"use strict";n("473a")},"473a":function(e,t,n){},c762:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"o",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"k",(function(){return l})),n.d(t,"u",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"y",(function(){return g})),n.d(t,"t",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"x",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return O})),n.d(t,"v",(function(){return k})),n.d(t,"r",(function(){return j})),n.d(t,"p",(function(){return L})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"w",(function(){return P})),n.d(t,"e",(function(){return S}));var r=n("b6bd");function a(e){return Object(r["a"])({url:"/meilanopenapi/frontCourse/getCourseDetailFront",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/meilanopenapi/frontCourse/getCourseDetailForViewCourse",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/meilanopenapi/courseDiscuss/getCourseDiscussList",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/meilanopenapi/frontCourse/getCourseRecommendFront",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/meilanopenapi/company/getCompanyDetailFront",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/meilanopenapi/seriescourse/getSeriesCourseByCourse",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/meilanopenapi/seriescourse/getSeriesSubCourseCatalogBySeriesCourse",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/meilanopenapi/courseLearnRecommend/getCourseLearnRecommendList",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/meilanfrontapi/courseDiscuss/saveCourseDiscuss",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/meilanfrontapi/frontCourse/getCourseRecommendFront",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/meilanblock/courseOrder/generateCourseOrder",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/meilanblock/courseOrder/payCourseOrder",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/meilanfrontapi/courseLearning/startLearn",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/meilanfrontapi/classLearning/saveClassLearningTime",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/meilanfrontapi/frontCourse/getPeriodDetailForViewCourse",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/meilanfrontapi/classSchedule/scheduleDetail",method:"post",data:e})}function C(e){return Object(r["a"])({url:"/meilanfrontapi/classLearning/startLearn",method:"post",data:e})}function O(e){return Object(r["a"])({url:"/meilanfrontapi/aliyunVOD/getAliyunVodStsNoToken",method:"post",data:e})}function k(e){return Object(r["a"])({url:"/meilanfrontapi/courseLearningStatistics/saveCourseLearningTime",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/meilanopenapi/seriescourse/getSeriescourseDetail",method:"post",data:e})}function L(e){return Object(r["a"])({url:"/meilanopenapi/seriescourselearnrecommend/getSeriesCourseLearnRecommendList",method:"post",data:e})}function w(e){return Object(r["a"])({url:"/meilanopenapi/company/getCompanyDetailFrontByUuid",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/meilanopenapi/hskyctbook/getBookDetail",method:"post",data:e})}function P(e){return Object(r["a"])({url:"/meilanfrontapi/hskyctbookorder/saveOrder",method:"post",data:e})}function S(e){return Object(r["a"])({url:"/meilanopenapi/hskyctbook/getBookList",method:"post",data:e})}}}]);